import{u as w,r as o,j as e,c as P,A as E,m as N,d as _,e as O,T,f as z}from"./index-Bnuf37GQ.js";import{u as S}from"./useAxiosPrivate-DnmVTJtU.js";import{A as H,U as $,C as V,f as W,d as v,D as G,E as K,R as X,a as Z,b as q,X as J,Y as Q,T as I,L as ee,c as Y,i as te,e as ae}from"./UrlCard-C3C-2ZOG.js";import{N as se,H as re}from"./h1-EtnsK9ui.js";const oe=async(l,a=3,i=1e3)=>{let t;for(let s=0;s<=a;s++)try{return await l()}catch(x){if(t=x,x.response?.status===401||x.response?.status===403||s===a)throw x;const c=i*Math.pow(2,s)+Math.random()*1e3;await new Promise(h=>setTimeout(h,c))}throw t},le=({urlId:l})=>{const{t:a}=w(),i=S(),[t,s]=o.useState([]),[x,c]=o.useState(null),[h,r]=o.useState(!0),[m,f]=o.useState(null);return o.useEffect(()=>{l&&(async()=>{try{r(!0),f(null);const g=await i.get(`/myurls/analytics/${l}`);s(g.data.chartData),c(g.data)}catch(g){f(a("myurls.analyticsError")),console.error("Failed to fetch analytics:",g)}finally{r(!1)}})()},[l,i,a]),h?e.jsx("div",{className:"flex items-center justify-center py-4 text-xl text-blue-600 dark:text-blue-400",children:a("myurls.loadingAnalytics")}):m?e.jsx("div",{className:"flex items-center justify-center py-8 text-xl text-red-600 dark:text-red-400",children:m}):e.jsx(H,{chartData:t,analyticsData:x,urlId:l,t:a})};function ne({urls:l,notificationRef:a,getMyUrls:i,updateUrl:t,removeUrl:s,isLoading:x}){const{t:c}=w(),h=P(),r=S(),[m,f]=o.useState(""),[y,g]=o.useState(null),[k,j]=o.useState(new Set),C=o.useMemo(()=>m?l.filter(u=>u.url.toLowerCase().includes(m.toLowerCase())):l,[m,l]),M=n=>{g(y===n?null:n)},D=async n=>{try{const u=await r.patch(`/myurls/toggle/${n}`);t&&u.data?t(u.data):await i()}catch(u){console.error("Failed to toggle URL status:",u),a.current?.addNotification(c("myurls.loaderr"),3e3)}},L=o.useCallback(async(n,u)=>{try{const d=await r.patch(`/myurls/update-title/${n}`,{title:u});t&&d.data?t(d.data):await i()}catch(d){throw console.error("Failed to update URL title:",d),d}},[r,t,i]),A=o.useCallback(async(n,u)=>{try{const d=await r.patch(`/myurls/update-url/${n}`,{url:u});t&&d.data?t(d.data):await i()}catch(d){throw console.error("Failed to update URL:",d),d}},[r,t,i]),R=o.useCallback(async n=>{j(u=>new Set([...u,n]));try{await r.delete(`/myurls/${n}`),a.current?.addNotification(c("myurls.deleteSuccess"),2e3)}catch(u){console.error("Failed to delete URL:",u),j(d=>{const b=new Set(d);return b.delete(n),b}),a.current?.addNotification(c("myurls.deleteError"),3e3)}},[r,s,i,c,a]);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex w-full flex-col items-center",style:{contain:"layout style"},children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mx-auto mb-4 flex h-12 w-full max-w-7xl flex-row items-center",children:[e.jsx("input",{type:"text",value:m,onChange:n=>{f(n.target.value)},placeholder:c("myurls.search"),className:"h-full w-full rounded-lg rounded-r-none border-2 border-sky-400 bg-white px-3 text-lg text-gray-900 focus:ring-2 focus:ring-sky-500 focus:outline-none dark:border-sky-500 dark:bg-slate-700 dark:text-gray-100"}),e.jsx("button",{onClick:i,className:"h-full w-12 touch-manipulation rounded-lg rounded-l-none border-2 border-l-0 border-sky-500 bg-sky-500 p-1 transition-colors hover:bg-sky-600 dark:border-sky-600 dark:bg-sky-600 dark:hover:bg-sky-700",type:"button",children:e.jsx("svg",{fill:"#FFFFFF",viewBox:"0 0 35 31.8",className:"hover:cursor-pointer",children:e.jsx("use",{href:"#reload"})})})]}),x?e.jsx("div",{className:"flex min-h-[50vh] flex-col justify-center",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(E,{})})}):e.jsx(e.Fragment,{children:C.length>0?e.jsx(N.ul,{className:"motion-safe mx-auto w-full max-w-7xl px-0",layout:"position",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,layout:{duration:.4,ease:"easeOut"}},children:e.jsx(_,{mode:"sync",children:C.map((n,u)=>e.jsxs(N.li,{className:y!==n._id?"motion-safe mb-8":"motion-safe",style:{willChange:"transform, opacity"},initial:{opacity:0,y:100},animate:k.has(n._id)?"exit":"enter",variants:{enter:{opacity:1,x:0,y:0},exit:{opacity:0,x:5e3,y:0}},transition:{ease:[.25,.46,.45,.94],delay:k.has(n._id)?0:u*.2},onAnimationComplete:d=>{d==="exit"&&k.has(n._id)&&(s?s(n._id):i(),j(b=>{const p=new Set(b);return p.delete(n._id),p}))},children:[e.jsx($,{mode:"myurls",urlData:n,onToggleAnalytics:()=>M(n._id),onToggleActive:()=>D(n._id),onDelete:()=>R(n._id),onUpdateTitle:L,onUpdateUrl:A,t:c,notificationRef:a}),e.jsx(_,{mode:"wait",children:y===n._id&&e.jsx(N.div,{className:"motion-safe relative z-10 mt-2 mb-8 rounded-lg border border-gray-200 bg-white p-4 shadow-lg transition-shadow hover:shadow-xl sm:p-6 dark:border-slate-700 dark:bg-slate-800",initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.3,ease:[.25,.46,.45,.94]},children:e.jsx(le,{urlId:n._id})})})]},n._id))})}):e.jsx("div",{className:"flex flex-col items-center justify-center py-20",children:e.jsx("div",{className:"max-w-md rounded-lg border border-gray-200 bg-white p-8 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Нет URL-адресов"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Создайте вашу первую сокращенную ссылку"}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>h("/"),className:"inline-flex items-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-700 focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:outline-none",children:"Создать новую"})})]})})})})]})})})}function ie(){const l="/user/logout",{t:a}=w(),i=P(),{setAuth:t}=o.useContext(O),{theme:s}=o.useContext(T),x=S(),c=s==="dark",h=async()=>{try{await x.post(l,{})}catch(r){console.error("Logout error:",r)}finally{t({}),i("/")}};return e.jsx(N.button,{onClick:h,type:"button",className:"touch-manipulation flex h-8 w-8 items-center justify-center rounded-md p-1.5 text-sm font-bold shadow-md sm:h-10 sm:w-10 sm:text-base md:h-14 md:w-14",animate:{backgroundColor:c?"rgb(239 68 68)":"rgb(252 165 165)",color:c?"rgb(51 65 85)":"rgb(255 255 255)"},whileHover:{backgroundColor:c?"rgb(220 38 38)":"rgb(248 113 113)",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",scale:1.05},whileTap:{backgroundColor:c?"rgb(185 28 28)":"rgb(239 68 68)",scale:.95},transition:{duration:.2,ease:"easeOut"},title:a("myurls.logout"),children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M15 4H18C19.1046 4 20 4.89543 20 6V18C20 19.1046 19.1046 20 18 20H15M8 8L4 12M4 12L8 16M4 12L16 12",stroke:"#FFFFFF",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})}function de(){const l="/user/deleteuser",{t:a}=w(),i=P(),{setAuth:t}=o.useContext(O),{theme:s}=o.useContext(T),x=S(),[c,h]=o.useState(!1),r=s==="dark",m=()=>{h(!0)},f=async()=>{try{await x.delete(l),t({}),i("/")}catch(y){console.error("Delete user error:",y),alert(a("modal.error","Failed to delete account. Please try again."))}};return e.jsxs(e.Fragment,{children:[e.jsx(N.button,{onClick:m,type:"button",className:"touch-manipulation flex h-8 w-8 items-center justify-center rounded-md p-1.5 text-sm font-bold shadow-md sm:h-10 sm:w-10 sm:text-base md:h-14 md:w-14",animate:{backgroundColor:r?"rgb(239 68 68)":"rgb(252 165 165)",color:r?"rgb(51 65 85)":"rgb(255 255 255)"},whileHover:{backgroundColor:r?"rgb(220 38 38)":"rgb(248 113 113)",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",scale:1.05},whileTap:{backgroundColor:r?"rgb(185 28 28)":"rgb(239 68 68)",scale:.95},transition:{duration:.2,ease:"easeOut"},title:a("myurls.deleteProfile"),children:e.jsx("svg",{fill:"#FFFFFF",viewBox:"-3 -2 24 24",preserveAspectRatio:"xMinYMin",children:e.jsx("path",{d:"M6 2V1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h4a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2h-.133l-.68 10.2a3 3 0 0 1-2.993 2.8H5.826a3 3 0 0 1-2.993-2.796L2.137 7H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h4zm10 2H2v1h14V4zM4.141 7l.687 10.068a1 1 0 0 0 .998.932h6.368a1 1 0 0 0 .998-.934L13.862 7h-9.72zM7 8a1 1 0 0 1 1 1v7a1 1 0 0 1-2 0V9a1 1 0 0 1 1-1zm4 0a1 1 0 0 1 1 1v7a1 1 0 0 1-2 0V9a1 1 0 0 1 1-1z"})})}),e.jsx(V,{isOpen:c,onClose:()=>h(!1),onConfirm:f,title:a("modal.deleteProfile.title"),message:a("modal.deleteProfile.confirm"),confirmText:a("modal.deleteProfile.confirmBtn"),cancelText:a("modal.deleteProfile.cancelBtn"),type:"danger"})]})}function ce({profile:l}){const{t:a}=w();return l?e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-lg hover:shadow-xl dark:border-slate-700 dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-linear-to-br from-sky-400 to-blue-600 text-3xl font-bold text-white shadow-lg dark:from-sky-500 dark:to-blue-700",children:l.username.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"mb-1 text-2xl font-bold text-gray-900 dark:text-gray-100",children:l.username}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[a("dashboard.memberSince")," ",W(l.accountCreated)]})]}),e.jsx(de,{}),e.jsx(ie,{})]})}):null}function F({title:l,value:a,subtitle:i,icon:t,trend:s}){return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-lg transition-all duration-200 hover:shadow-xl dark:border-slate-700 dark:bg-slate-800",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-gray-600 dark:text-gray-400",children:l}),e.jsx("p",{className:"mb-2 text-3xl font-bold text-gray-900 dark:text-gray-100",children:a}),i&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i}),s&&e.jsxs("div",{className:`mt-2 inline-flex items-center gap-1 text-sm font-medium ${s.direction==="up"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[e.jsx("span",{children:s.direction==="up"?"↑":"↓"}),e.jsx("span",{children:s.value})]})]}),t&&e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-linear-to-br from-sky-400 to-blue-500 text-white dark:from-sky-500 dark:to-blue-600",children:t})]})})}v.extend(te);function xe({data:l,title:a}){const[i,t]=o.useState({range:"last7Days",startDate:v().subtract(6,"day").format("YYYY-MM-DD"),endDate:v().format("YYYY-MM-DD")}),s=o.useMemo(()=>{const c=v(i.startDate).startOf("day"),h=v(i.endDate).endOf("day"),r=[];let m=c;for(;m.isBefore(h)||m.isSame(h,"day");){const f=m.format("YYYY-MM-DD"),y=l?.find(g=>g.date===f);y?r.push(y):r.push({date:f,clicks:0,created:0}),m=m.add(1,"day")}return r},[l,i]),x=o.useCallback(c=>{t(c)},[]);return e.jsxs("div",{className:"relative z-10 rounded-xl border border-gray-200 bg-white p-6 shadow-lg transition-shadow hover:shadow-xl dark:border-slate-700 dark:bg-slate-800",style:{willChange:"background-color, border-color"},children:[e.jsxs("div",{className:"mb-6 flex flex-col justify-between gap-4 md:flex-row md:items-center",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:a}),e.jsx(G,{onChange:x,initialRange:"last7Days"})]}),e.jsx(K,{data:s,filename:"profile_analytics.csv",headers:["Date","URLs Created","Clicks"]})]}),e.jsx(X,{width:"100%",height:300,children:e.jsxs(Z,{data:s,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorCreated",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorClicks",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#f43f5e",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#f43f5e",stopOpacity:0})]})]}),e.jsx(q,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"stroke-gray-200 dark:stroke-slate-700"}),e.jsx(J,{dataKey:"date",stroke:"#6b7280",className:"stroke-gray-500 dark:stroke-gray-400",tick:{fill:"#6b7280",className:"fill-gray-500 dark:fill-gray-400"},tickFormatter:c=>v(c).format("DD/MM")}),e.jsx(Q,{stroke:"#6b7280",className:"stroke-gray-500 dark:stroke-gray-400",tick:{fill:"#6b7280"}}),e.jsx(I,{contentStyle:{backgroundColor:"rgb(30 41 59)",border:"none",borderRadius:"8px",color:"#fff",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#e2e8f0",marginBottom:"0.25rem"},labelFormatter:c=>v(c).format("DD/MM/YYYY")}),e.jsx(ee,{}),e.jsx(Y,{type:"monotone",dataKey:"created",stroke:"#0ea5e9",strokeWidth:2,fillOpacity:1,fill:"url(#colorCreated)",name:"URLs Created",activeDot:{r:6}}),e.jsx(Y,{type:"monotone",dataKey:"clicks",stroke:"#f43f5e",strokeWidth:2,fillOpacity:1,fill:"url(#colorClicks)",name:"Clicks",activeDot:{r:6}})]})})]})}function he({topUrls:l}){const{t:a}=w(),{theme:i}=o.useContext(T),t=i==="dark";return e.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white p-6 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:[e.jsx("h3",{className:"mb-6 text-xl font-bold text-gray-900 dark:text-gray-100",children:a("dashboard.topUrls")}),l.length===0?e.jsx("p",{className:"py-4 text-center text-gray-600 dark:text-gray-400",children:a("dashboard.noData")}):e.jsx("div",{className:"space-y-4",children:l.map((s,x)=>e.jsxs(N.div,{className:"motion-safe flex items-center gap-4 rounded-lg p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0,background:t?"linear-gradient(135deg, rgb(51 65 85) 0%, rgb(30 41 59) 100%)":"linear-gradient(135deg, rgb(248 250 252) 0%, rgb(239 246 255) 100%)"},whileHover:{background:t?"linear-gradient(135deg, rgb(30 41 59) 0%, rgb(15 23 42) 100%)":"linear-gradient(135deg, rgb(239 246 255) 0%, rgb(219 234 254) 100%)",scale:1.02},transition:{duration:.6,ease:"easeOut",delay:x*.1,backgroundColor:{duration:.2,ease:"easeOut"},scale:{duration:.2,ease:"easeOut"}},children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-linear-to-br from-sky-400 to-blue-500 text-sm font-bold text-white dark:from-sky-500 dark:to-blue-600",children:x+1}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"truncate font-semibold text-gray-900 dark:text-gray-100",children:`https://shortlyurl.ru/${s.shortCode}`}),e.jsx("p",{className:"truncate text-sm text-gray-600 dark:text-gray-400",children:s.url})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-slate-600 dark:text-rose-400",children:s.clicks}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:a("myurls.clicks")})]})]},s.shortCode))})]})}function be(){const l="/myurls/geturls",a="/myurls/analytics",i="/myurls/profile",{t}=w(),s=S(),x=z(),[c,h]=o.useState([]),[r,m]=o.useState(null),[f,y]=o.useState(null),[g,k]=o.useState(!0),[j,C]=o.useState("overview"),[M,D]=o.useState(!1),L=o.useRef(),A=o.useCallback(async()=>{k(!0),D(!1);try{await x();const d=await Promise.allSettled([await s.get(l),await s.get(i),await s.get(a)]),[b,p,U]=d;b.status==="fulfilled"&&h(b.value.data),p.status==="fulfilled"&&y(p.value.data),U.status==="fulfilled"&&m(U.value.data),d.some(B=>B.status==="rejected")&&D(!0)}catch{D(!0)}finally{k(!1)}},[s,x,i,l,a]);o.useEffect(()=>{A()},[A]);const R=o.useCallback(async()=>{try{k(!0);const d=await oe(()=>s.get(l),3,1e3);h(d.data)}catch(d){console.error("Failed to fetch user URLs:",d),L.current?.addNotification(t("myurls.loaderr"),3e3)}finally{k(!1)}},[s,l]),n=o.useCallback(d=>{h(b=>b.map(p=>p._id===d._id?d:p))},[]),u=o.useCallback(d=>{h(b=>b.filter(p=>p._id!==d))},[]);return e.jsxs("div",{className:"flex w-full flex-col items-center px-4 pb-20",style:{contain:"layout style paint"},children:[e.jsx(se,{ref:L}),e.jsxs("div",{className:"w-full max-w-7xl",style:{contain:"layout style"},children:[e.jsx("div",{className:"mb-8",children:e.jsx(re,{children:t("dashboard.title")})}),e.jsxs("div",{className:"mb-6 flex flex-row justify-between border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("nav",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>C("overview"),className:`touch-manipulation border-b-2 px-4 py-3 text-sm font-semibold transition-colors md:text-base ${j==="overview"?"border-sky-500 text-sky-600 dark:text-sky-400":"border-transparent text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"}`,children:t("dashboard.overview")}),e.jsx("button",{onClick:()=>C("urls"),className:`touch-manipulation border-b-2 px-4 py-3 text-sm font-semibold transition-colors md:text-base ${j==="urls"?"border-sky-500 text-sky-600 dark:text-sky-400":"border-transparent text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"}`,children:t("dashboard.myUrls")})]}),e.jsx("p",{className:"hidden items-center text-gray-600 md:flex dark:text-gray-400",children:t("dashboard.subtitle")})]}),j==="overview"&&(g?e.jsx("div",{className:"flex min-h-[50vh] flex-col justify-center",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(E,{})})}):M?e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-full max-w-md rounded-xl border border-gray-200 bg-white p-8 shadow-lg hover:shadow-xl dark:border-slate-700 dark:bg-slate-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{className:"mx-auto mb-4 h-12 w-12 text-rose-500 dark:text-rose-400",stroke:"currentColor",viewBox:"0 0 20 20",children:e.jsx("use",{href:"#warn"})}),e.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900 dark:text-gray-100",children:t("dashboard.error.title")}),e.jsx("p",{className:"mb-6 text-gray-600 dark:text-gray-400",children:t("dashboard.error.message")}),e.jsxs("button",{onClick:A,style:{transition:"var(--transition-bg)"},className:"inline-flex touch-manipulation items-center rounded-lg bg-sky-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-sky-600 focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:outline-none dark:bg-sky-600 dark:hover:bg-sky-700 dark:focus:ring-sky-600",children:[e.jsx("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),t("dashboard.error.retry")]})]})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(ce,{profile:f}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(F,{title:t("dashboard.totalUrls"),value:r?.totalUrls||0,icon:e.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"h-8 w-8",children:e.jsx("path",{d:"M10,17.55,8.23,19.27a2.47,2.47,0,0,1-3.5-3.5l4.54-4.55a2.46,2.46,0,0,1,3.39-.09l.12.1a1,1,0,0,0,1.4-1.43A2.75,2.75,0,0,0,14,9.59a4.46,4.46,0,0,0-6.09.22L3.31,14.36a4.48,4.48,0,0,0,6.33,6.33L11.37,19A1,1,0,0,0,10,17.55ZM20.69,3.31a4.49,4.49,0,0,0-6.33,0L12.63,5A1,1,0,0,0,14,6.45l1.73-1.72a2.47,2.47,0,0,1,3.5,3.5l-4.54,4.55a2.46,2.46,0,0,1-3.39.09l-.12-.1a1,1,0,0,0-1.4,1.43,2.75,2.75,0,0,0,.23.21,4.47,4.47,0,0,0,6.09-.22l4.55-4.55A4.49,4.49,0,0,0,20.69,3.31Z"})})}),e.jsx(F,{title:t("dashboard.totalClicks"),value:r?.totalClicks||0,icon:e.jsxs("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),subtitle:`${r?.clicksLast7Days||0} ${t("dashboard.last7Days")}`}),e.jsx(F,{title:t("dashboard.activeUrls"),value:r?.activeUrls||0,icon:e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx(F,{title:t("dashboard.expiredUrls"),value:r?.expiredUrls||0,icon:e.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),e.jsx(xe,{data:r?.chartData||[],title:t("dashboard.activityChart")}),e.jsx(ae,{devices:r?.devices||{},browsers:r?.browsers||{},countries:r?.countries||{},os:r?.os||{},t}),e.jsx(he,{topUrls:r?.topUrls||[]})]})),j==="urls"&&e.jsx(ne,{urls:c,getMyUrls:R,updateUrl:n,removeUrl:u,notificationRef:L,isLoading:g})]})]})}export{be as default};
