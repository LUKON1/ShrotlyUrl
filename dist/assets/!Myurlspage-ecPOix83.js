import{r as s,d as Lt,j as i,u as U,c as ke,A as Ze,m as Y,e as Le,f as Je,T as Pe,g as Tt}from"./index-B1MA-c8e.js";import{u as J}from"./useAxiosPrivate-C8r73Lco.js";import{r as G,c as Q,a as Qe,S as Rt,b as _t,u as F,s as Mt,d as $t,e as Kt,f as Wt,g as zt,h as Ft,i as q,j as Bt,k as Te,l as Ut,m as D,p as ee,n as Gt,o as Vt,q as V,t as Ht,v as Yt,w as et,x as Xt,y as qt,z as M,A as Zt,B as Jt,C as Qt,D as ea,E as te,F as ta,G as aa,H as ra,I as na,J as tt,K as ia,L as la,M as sa,N as pe,O as oa,P as ca,Q as da,R as ua,T as Ae,U as fe,V as at,W as ma,X as rt,Y as pa,Z as $,_ as we,$ as nt,a0 as it,a1 as lt,a2 as fa,a3 as K,a4 as W,a5 as ie,a6 as va,a7 as ha,a8 as ga,a9 as ya,aa as xa,ab as ba,ac as ja,ad as st,ae as ka,af as Z,ag as xe,ah as Re,ai as le,aj as Pa,ak as Aa,al as ot,am as wa,an as Oa,ao as ct,ap as dt,aq as Ea,ar as ut,as as _e,at as Ca,au as Na,av as Sa,aw as mt,ax as Ia,ay as Da,az as La,aA as Ta,aB as Ra,aC as _a,aD as Ma,aE as $a,aF as Ka,aG as Wa,aH as za,aI as Me,aJ as $e,aK as Fa,aL as Ba,aM as Ua,aN as Ga,aO as Va,aP as Ha,aQ as se,aR as Ya,aS as Xa,aT as qa,aU as Za,aV as Ja,aW as Qa,aX as er,aY as pt,aZ as tr,a_ as Oe,a$ as Ee,b0 as ft,b1 as vt,b2 as oe,b3 as ht,b4 as ar,b5 as rr,b6 as nr}from"./UrlCard-BUlZvmn5.js";import{N as ir,H as lr}from"./h1-ScaRk4vL.js";const sr=async(e,t=3,a=1e3)=>{let r;for(let n=0;n<=t;n++)try{return await e()}catch(l){if(r=l,l.response?.status===401||l.response?.status===403||n===t)throw l;const c=a*Math.pow(2,n)+Math.random()*1e3;await new Promise(o=>setTimeout(o,c))}throw r};function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ce.apply(null,arguments)}function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function or(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ke(Object(a),!0).forEach(function(r){cr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function cr(e,t,a){return(t=dr(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function dr(e){var t=ur(e,"string");return typeof t=="symbol"?t:t+""}function ur(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R=32,mr={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function pr(e){var{data:t,iconType:a,inactiveColor:r}=e,n=R/2,l=R/6,c=R/3,o=t.inactive?r:t.color,d=a??t.type;if(d==="none")return null;if(d==="plainline"){var m;return s.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(m=t.payload)===null||m===void 0?void 0:m.strokeDasharray,x1:0,y1:n,x2:R,y2:n,className:"recharts-legend-icon"})}if(d==="line")return s.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(n,`
            H`).concat(R,"M").concat(2*c,",").concat(n,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(n),className:"recharts-legend-icon"});if(d==="rect")return s.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(R/8,"h").concat(R,"v").concat(R*3/4,"h").concat(-R,"z"),className:"recharts-legend-icon"});if(s.isValidElement(t.legendIcon)){var u=or({},t);return delete u.legendIcon,s.cloneElement(t.legendIcon,u)}return s.createElement(_t,{fill:o,cx:n,cy:n,size:R,sizeType:"diameter",type:d})}function fr(e){var{payload:t,iconSize:a,layout:r,formatter:n,inactiveColor:l,iconType:c}=e,o={x:0,y:0,width:R,height:R},d={display:r==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var p=u.formatter||n,y=Q({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var x=u.inactive?l:u.color,P=p?p(u.value,u,f):u.value;return s.createElement("li",ce({className:y,style:d,key:"legend-item-".concat(f)},Qe(e,u,f)),s.createElement(Rt,{width:a,height:a,viewBox:o,style:m,"aria-label":"".concat(P," legend icon")},s.createElement(pr,{data:u,iconType:c,inactiveColor:l})),s.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},P))})}var vr=e=>{var t=G(e,mr),{payload:a,layout:r,align:n}=t;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return s.createElement("ul",{className:"recharts-default-legend",style:l},s.createElement(fr,ce({},t,{payload:a})))};function hr(){return F(Mt)}var gr=["contextPayload"];function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},be.apply(null,arguments)}function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?We(Object(a),!0).forEach(function(r){yr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function yr(e,t,a){return(t=xr(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xr(e){var t=br(e,"string");return typeof t=="symbol"?t:t+""}function br(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jr(e,t){if(e==null)return{};var a,r,n=kr(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function kr(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Pr(e){return e.value}function Ar(e){var{contextPayload:t}=e,a=jr(e,gr),r=Ut(t,e.payloadUniqBy,Pr),n=X(X({},a),{},{payload:r});return s.isValidElement(e.content)?s.cloneElement(e.content,n):typeof e.content=="function"?s.createElement(e.content,n):s.createElement(vr,n)}function wr(e,t,a,r,n,l){var{layout:c,align:o,verticalAlign:d}=t,m,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&c==="vertical"?m={left:((r||0)-l.width)/2}:m=o==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?u={top:((n||0)-l.height)/2}:u=d==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),X(X({},m),u)}function Or(e){var t=q();return s.useEffect(()=>{t(Bt(e))},[t,e]),null}function Er(e){var t=q();return s.useEffect(()=>(t(Te(e)),()=>{t(Te({width:0,height:0}))}),[t,e]),null}function Cr(e,t,a,r){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:a||r}:null}var Nr={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Ce(e){var t=G(e,Nr),a=hr(),r=$t(),n=Kt(),{width:l,height:c,wrapperStyle:o,portal:d}=t,[m,u]=Wt([a]),f=zt(),p=Ft();if(f==null||p==null)return null;var y=f-(n?.left||0)-(n?.right||0),x=Cr(t.layout,c,l,y),P=d?o:X(X({position:"absolute",width:x?.width||l||"auto",height:x?.height||c||"auto"},wr(o,t,n,f,p,m)),o),A=d??r;if(A==null||a==null)return null;var j=s.createElement("div",{className:"recharts-legend-wrapper",style:P,ref:u},s.createElement(Or,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&s.createElement(Er,{width:m.width,height:m.height}),s.createElement(Ar,be({},t,x,{margin:n,chartWidth:f,chartHeight:p,contextPayload:a})));return Lt.createPortal(j,A)}Ce.displayName="Legend";var ve=e=>null;ve.displayName="Cell";var gt=e=>e.graphicalItems.polarItems,Sr=D([ee,Gt],Vt),he=D([gt,V,Sr],Ht),Ir=D([he],Yt),ge=D([Ir,et],Xt),Dr=D([ge,V,he],qt);D([ge,V,he],(e,t,a)=>a.length>0?e.flatMap(r=>a.flatMap(n=>{var l,c=M(r,(l=t.dataKey)!==null&&l!==void 0?l:n.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:M(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var ze=()=>{},Lr=D([ge,V,he,Zt,ee],Jt),Tr=D([V,Qt,ea,ze,Lr,ze,te,ee],ta),yt=D([V,te,ge,Dr,aa,ee,Tr],ra),Rr=D([yt,na,tt],ia),_r=D([V,yt,Rr,ee],la);D([tt,_r],sa);function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Be(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Fe(Object(a),!0).forEach(function(r){Mr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Mr(e,t,a){return(t=$r(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $r(e){var t=Kr(e,"string");return typeof t=="symbol"?t:t+""}function Kr(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wr=(e,t)=>t,Ne=D([gt,Wr],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),zr=[],Se=(e,t,a)=>a?.length===0?zr:a,xt=D([et,Ne,Se],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var n;if(t?.data!=null&&t.data.length>0?n=t.data:n=r,(!n||!n.length)&&a!=null&&(n=a.map(l=>Be(Be({},t.presentationProps),l.props))),n!=null)return n}}),Fr=D([xt,Ne,Se],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,n)=>{var l,c=M(r,t.nameKey,t.name),o;return a!=null&&(l=a[n])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?o=a[n].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:pe(c,t.dataKey),color:o,payload:r,type:t.legendType}})}),Br=D([xt,Ne,Se,oa],(e,t,a,r)=>{if(!(t==null||e==null))return pn({offset:r,pieSettings:t,displayedData:e,cells:a})}),Ur=(e,t,a)=>{var r=q();return(n,l)=>c=>{e?.(n,l,c),r(ca({activeIndex:String(l),activeDataKey:t,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:a}))}},Gr=e=>{var t=q();return(a,r)=>n=>{e?.(a,r,n),t(da())}},Vr=(e,t,a)=>{var r=q();return(n,l)=>c=>{e?.(n,l,c),r(ua({activeIndex:String(l),activeDataKey:t,activeCoordinate:n.tooltipPosition,activeGraphicalItemId:a}))}},Hr=["key"],Yr=["onMouseEnter","onClick","onMouseLeave"],Xr=["id"],qr=["id"];function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ue(Object(a),!0).forEach(function(r){Zr(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Zr(e,t,a){return(t=Jr(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Jr(e){var t=Qr(e,"string");return typeof t=="symbol"?t:t+""}function Qr(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},z.apply(null,arguments)}function ye(e,t){if(e==null)return{};var a,r,n=en(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function en(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function tn(e){var t=s.useMemo(()=>rt(e.children,ve),[e.children]),a=F(r=>Fr(r,e.id,t));return a==null?null:s.createElement(pa,{legendPayload:a})}var an=s.memo(e=>{var{dataKey:t,nameKey:a,sectors:r,stroke:n,strokeWidth:l,fill:c,name:o,hide:d,tooltipType:m,id:u}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),getPosition:p=>{var y;return(y=r[Number(p)])===null||y===void 0?void 0:y.tooltipPosition},settings:{stroke:n,strokeWidth:l,fill:c,dataKey:t,nameKey:a,name:pe(o,t),hide:d,type:m,color:c,unit:"",graphicalItemId:u}};return s.createElement(nt,{tooltipEntrySettings:f})}),rn=(e,t)=>e>t?"start":e<t?"end":"middle",nn=(e,t,a)=>typeof t=="function"?Z(t(e),a,a*.8):Z(t,a,a*.8),ln=(e,t,a)=>{var{top:r,left:n,width:l,height:c}=t,o=ka(l,c),d=n+Z(e.cx,l,l/2),m=r+Z(e.cy,c,c/2),u=Z(e.innerRadius,o,0),f=nn(a,e.outerRadius,o),p=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:d,cy:m,innerRadius:u,outerRadius:f,maxRadius:p}},sn=(e,t)=>{var a=ie(t-e),r=Math.min(Math.abs(t-e),360);return a*r},on=(e,t)=>{if(s.isValidElement(e))return s.cloneElement(e,t);if(typeof e=="function")return e(t);var a=Q("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,n=ye(t,Hr);return s.createElement(le,z({},n,{type:"linear",className:a}))},cn=(e,t,a)=>{if(s.isValidElement(e))return s.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),s.isValidElement(r)))return r;var n=Q("recharts-pie-label-text",Pa(e));return s.createElement(Aa,z({},t,{alignmentBaseline:"middle",className:n}),r)};function dn(e){var{sectors:t,props:a,showLabels:r}=e,{label:n,labelLine:l,dataKey:c}=a;if(!r||!n||!t)return null;var o=fe(a),d=Re(n),m=Re(l),u=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,f=t.map((p,y)=>{var x=(p.startAngle+p.endAngle)/2,P=xe(p.cx,p.cy,p.outerRadius+u,x),A=N(N(N(N({},o),p),{},{stroke:"none"},d),{},{index:y,textAnchor:rn(P.x,p.cx)},P),j=N(N(N(N({},o),p),{},{fill:"none",stroke:p.fill},m),{},{index:y,points:[xe(p.cx,p.cy,p.outerRadius,x),P],key:"line"});return s.createElement(we,{zIndex:Ae.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(y)},s.createElement($,null,l&&on(l,j),cn(n,A,M(p,c))))});return s.createElement($,{className:"recharts-pie-labels"},f)}function un(e){var{sectors:t,props:a,showLabels:r}=e,{label:n}=a;return typeof n=="object"&&n!=null&&"position"in n?s.createElement(st,{label:n}):s.createElement(dn,{sectors:t,props:a,showLabels:r})}function mn(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:n,shape:l,id:c}=e,o=F(ha),d=F(ga),m=F(ya),{onMouseEnter:u,onClick:f,onMouseLeave:p}=n,y=ye(n,Yr),x=Ur(u,n.dataKey,c),P=Gr(p),A=Vr(f,n.dataKey,c);return t==null||t.length===0?null:s.createElement(s.Fragment,null,t.map((j,w)=>{if(j?.startAngle===0&&j?.endAngle===0&&t.length!==1)return null;var E=m==null||m===c,k=String(w)===o&&(d==null||n.dataKey===d)&&E,h=o?r:null,g=a&&k?a:h,v=N(N({},j),{},{stroke:j.stroke,tabIndex:-1,[ba]:w,[xa]:c});return s.createElement($,z({key:"sector-".concat(j?.startAngle,"-").concat(j?.endAngle,"-").concat(j.midAngle,"-").concat(w),tabIndex:-1,className:"recharts-pie-sector"},Qe(y,j,w),{onMouseEnter:x(j,w),onMouseLeave:P(j,w),onClick:A(j,w)}),s.createElement(ja,z({option:l??g,index:w,shapeType:"sector",isActive:k},v)))}))}function pn(e){var t,{pieSettings:a,displayedData:r,cells:n,offset:l}=e,{cornerRadius:c,startAngle:o,endAngle:d,dataKey:m,nameKey:u,tooltipType:f}=a,p=Math.abs(a.minAngle),y=sn(o,d),x=Math.abs(y),P=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,A=r.filter(g=>M(g,m,0)!==0).length,j=(x>=360?A:A-1)*P,w=x-A*p-j,E=r.reduce((g,v)=>{var b=M(v,m,0);return g+(W(b)?b:0)},0),k;if(E>0){var h;k=r.map((g,v)=>{var b=M(g,m,0),O=M(g,u,v),S=ln(a,l,g),I=(W(b)?b:0)/E,C,L=N(N({},g),n&&n[v]&&n[v].props);v?C=h.endAngle+ie(y)*P*(b!==0?1:0):C=o;var T=C+ie(y)*((b!==0?p:0)+I*w),_=(C+T)/2,ae=(S.innerRadius+S.outerRadius)/2,re=[{name:O,value:b,payload:L,dataKey:m,type:f,graphicalItemId:a.id}],Dt=xe(S.cx,S.cy,ae,_);return h=N(N(N(N({},a.presentationProps),{},{percent:I,cornerRadius:typeof c=="string"?parseFloat(c):c,name:O,tooltipPayload:re,midAngle:_,middleRadius:ae,tooltipPosition:Dt},L),S),{},{value:b,dataKey:m,startAngle:C,endAngle:T,payload:L,paddingAngle:ie(y)*P}),h})}return k}function fn(e){var{showLabels:t,sectors:a,children:r}=e,n=s.useMemo(()=>!t||!a?[]:a.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[a,t]);return s.createElement(va,{value:t?n:void 0},r)}function vn(e){var{props:t,previousSectorsRef:a,id:r}=e,{sectors:n,isAnimationActive:l,animationBegin:c,animationDuration:o,animationEasing:d,activeShape:m,inactiveShape:u,onAnimationStart:f,onAnimationEnd:p}=t,y=it(t,"recharts-pie-"),x=a.current,[P,A]=s.useState(!1),j=s.useCallback(()=>{typeof p=="function"&&p(),A(!1)},[p]),w=s.useCallback(()=>{typeof f=="function"&&f(),A(!0)},[f]);return s.createElement(fn,{showLabels:!P,sectors:n},s.createElement(lt,{animationId:y,begin:c,duration:o,isActive:l,easing:d,onAnimationStart:w,onAnimationEnd:j,key:y},E=>{var k,h=[],g=n&&n[0],v=(k=g?.startAngle)!==null&&k!==void 0?k:0;return n?.forEach((b,O)=>{var S=x&&x[O],I=O>0?fa(b,"paddingAngle",0):0;if(S){var C=K(S.endAngle-S.startAngle,b.endAngle-b.startAngle,E),L=N(N({},b),{},{startAngle:v+I,endAngle:v+C+I});h.push(L),v=L.endAngle}else{var{endAngle:T,startAngle:_}=b,ae=K(0,T-_,E),re=N(N({},b),{},{startAngle:v+I,endAngle:v+ae+I});h.push(re),v=re.endAngle}}),a.current=h,s.createElement($,null,s.createElement(mn,{sectors:h,activeShape:m,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:r}))}),s.createElement(un,{showLabels:!P,sectors:n,props:t}),t.children)}var hn={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ae.area};function gn(e){var{id:t}=e,a=ye(e,Xr),{hide:r,className:n,rootTabIndex:l}=e,c=s.useMemo(()=>rt(e.children,ve),[e.children]),o=F(u=>Br(u,t,c)),d=s.useRef(null),m=Q("recharts-pie",n);return r||o==null?(d.current=null,s.createElement($,{tabIndex:l,className:m})):s.createElement(we,{zIndex:e.zIndex},s.createElement(an,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),s.createElement($,{tabIndex:l,className:m},s.createElement(vn,{props:N(N({},a),{},{sectors:o}),previousSectorsRef:d,id:t})))}function bt(e){var t=G(e,hn),{id:a}=t,r=ye(t,qr),n=fe(r);return s.createElement(at,{id:a,type:"pie"},l=>s.createElement(s.Fragment,null,s.createElement(ma,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),s.createElement(tn,z({},r,{id:l})),s.createElement(gn,z({},r,{id:l}))))}bt.displayName="Pie";function Ie(e,t){var a,r;return(a=(r=e.graphicalItems.cartesianItems.find(n=>n.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&a!==void 0?a:ot}function De(e,t){var a,r;return(a=(r=e.graphicalItems.cartesianItems.find(n=>n.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&a!==void 0?a:ot}var jt=(e,t,a)=>ct(e,"xAxis",Ie(e,t),a),kt=(e,t,a)=>dt(e,"xAxis",Ie(e,t),a),Pt=(e,t,a)=>ct(e,"yAxis",De(e,t),a),At=(e,t,a)=>dt(e,"yAxis",De(e,t),a),yn=D([te,jt,Pt,kt,At],(e,t,a,r,n)=>ut(e,"xAxis")?_e(t,r,!1):_e(a,n,!1)),xn=(e,t)=>t,wt=D([Ca,xn],(e,t)=>e.filter(a=>a.type==="area").find(a=>a.id===t)),Ot=e=>{var t=te(e),a=ut(t,"xAxis");return a?"yAxis":"xAxis"},bn=(e,t)=>{var a=Ot(e);return a==="yAxis"?De(e,t):Ie(e,t)},jn=(e,t,a)=>Na(e,Ot(e),bn(e,t),a),kn=D([wt,jn],(e,t)=>{var a;if(!(e==null||t==null)){var{stackId:r}=e,n=Ea(e);if(!(r==null||n==null)){var l=(a=t[r])===null||a===void 0?void 0:a.stackedData,c=l?.find(o=>o.key===n);if(c!=null)return c.map(o=>[o[0],o[1]])}}}),Pn=D([te,jt,Pt,kt,At,kn,wa,yn,wt,Oa],(e,t,a,r,n,l,c,o,d,m)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:p}=c;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||a==null||r==null||n==null||r.length===0||n.length===0||o==null)){var{data:y}=d,x;if(y&&y.length>0?x=y:x=u?.slice(f,p+1),x!=null)return Fn({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:n,dataStartIndex:f,areaSettings:d,stackedData:l,displayedData:x,chartBaseValue:m,bandSize:o})}}),An=["id"],wn=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},B.apply(null,arguments)}function Et(e,t){if(e==null)return{};var a,r,n=On(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function On(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ge(Object(a),!0).forEach(function(r){En(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function En(e,t,a){return(t=Cn(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Cn(e){var t=Nn(e,"string");return typeof t=="symbol"?t:t+""}function Nn(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function de(e,t){return e&&e!=="none"?e:t}var Sn=e=>{var{dataKey:t,name:a,stroke:r,fill:n,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:de(r,n),value:pe(a,t),payload:e}]},In=s.memo(e=>{var{dataKey:t,data:a,stroke:r,strokeWidth:n,fill:l,name:c,hide:o,unit:d,tooltipType:m,id:u}=e,f={dataDefinedOnItem:a,getPosition:Ta,settings:{stroke:r,strokeWidth:n,fill:l,dataKey:t,nameKey:void 0,name:pe(c,t),hide:o,type:m,color:de(r,l),unit:d,graphicalItemId:u}};return s.createElement(nt,{tooltipEntrySettings:f})});function Dn(e){var{clipPathId:t,points:a,props:r}=e,{needClip:n,dot:l,dataKey:c}=r,o=fe(r);return s.createElement(Ha,{points:a,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:o,needClip:n,clipPathId:t})}function Ln(e){var{showLabels:t,children:a,points:r}=e,n=r.map(l=>{var c,o,d={x:(c=l.x)!==null&&c!==void 0?c:0,y:(o=l.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return H(H({},d),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return s.createElement(Ga,{value:t?n:void 0},a)}function Ve(e){var{points:t,baseLine:a,needClip:r,clipPathId:n,props:l}=e,{layout:c,type:o,stroke:d,connectNulls:m,isRange:u}=l,{id:f}=l,p=Et(l,An),y=fe(p),x=Va(p);return s.createElement(s.Fragment,null,t?.length>1&&s.createElement($,{clipPath:r?"url(#clipPath-".concat(n,")"):void 0},s.createElement(le,B({},x,{id:f,points:t,connectNulls:m,type:o,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&s.createElement(le,B({},y,{className:"recharts-area-curve",layout:c,type:o,connectNulls:m,fill:"none",points:t})),d!=="none"&&u&&s.createElement(le,B({},y,{className:"recharts-area-curve",layout:c,type:o,connectNulls:m,fill:"none",points:a}))),s.createElement(Dn,{points:t,props:p,clipPathId:n}))}function Tn(e){var t,a,{alpha:r,baseLine:n,points:l,strokeWidth:c}=e,o=(t=l[0])===null||t===void 0?void 0:t.y,d=(a=l[l.length-1])===null||a===void 0?void 0:a.y;if(!se(o)||!se(d))return null;var m=r*Math.abs(o-d),u=Math.max(...l.map(f=>f.x||0));return W(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.x||0),u)),W(u)?s.createElement("rect",{x:0,y:o<d?o:o-m,width:u+(c?parseInt("".concat(c),10):1),height:Math.floor(m)}):null}function Rn(e){var t,a,{alpha:r,baseLine:n,points:l,strokeWidth:c}=e,o=(t=l[0])===null||t===void 0?void 0:t.x,d=(a=l[l.length-1])===null||a===void 0?void 0:a.x;if(!se(o)||!se(d))return null;var m=r*Math.abs(o-d),u=Math.max(...l.map(f=>f.y||0));return W(n)?u=Math.max(n,u):n&&Array.isArray(n)&&n.length&&(u=Math.max(...n.map(f=>f.y||0),u)),W(u)?s.createElement("rect",{x:o<d?o:o-m,y:0,width:m,height:Math.floor(u+(c?parseInt("".concat(c),10):1))}):null}function _n(e){var{alpha:t,layout:a,points:r,baseLine:n,strokeWidth:l}=e;return a==="vertical"?s.createElement(Tn,{alpha:t,points:r,baseLine:n,strokeWidth:l}):s.createElement(Rn,{alpha:t,points:r,baseLine:n,strokeWidth:l})}function Mn(e){var{needClip:t,clipPathId:a,props:r,previousPointsRef:n,previousBaselineRef:l}=e,{points:c,baseLine:o,isAnimationActive:d,animationBegin:m,animationDuration:u,animationEasing:f,onAnimationStart:p,onAnimationEnd:y}=r,x=s.useMemo(()=>({points:c,baseLine:o}),[c,o]),P=it(x,"recharts-area-"),A=Fa(),[j,w]=s.useState(!1),E=!j,k=s.useCallback(()=>{typeof y=="function"&&y(),w(!1)},[y]),h=s.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);if(A==null)return null;var g=n.current,v=l.current;return s.createElement(Ln,{showLabels:E,points:c},r.children,s.createElement(lt,{animationId:P,begin:m,duration:u,isActive:d,easing:f,onAnimationEnd:k,onAnimationStart:h,key:P},b=>{if(g){var O=g.length/c.length,S=b===1?c:c.map((C,L)=>{var T=Math.floor(L*O);if(g[T]){var _=g[T];return H(H({},C),{},{x:K(_.x,C.x,b),y:K(_.y,C.y,b)})}return C}),I;return W(o)?I=K(v,o,b):Ba(o)||Ua(o)?I=K(v,0,b):I=o.map((C,L)=>{var T=Math.floor(L*O);if(Array.isArray(v)&&v[T]){var _=v[T];return H(H({},C),{},{x:K(_.x,C.x,b),y:K(_.y,C.y,b)})}return C}),b>0&&(n.current=S,l.current=I),s.createElement(Ve,{points:S,baseLine:I,needClip:t,clipPathId:a,props:r})}return b>0&&(n.current=c,l.current=o),s.createElement($,null,d&&s.createElement("defs",null,s.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.createElement(_n,{alpha:b,points:c,baseLine:o,layout:A,strokeWidth:r.strokeWidth}))),s.createElement($,{clipPath:"url(#animationClipPath-".concat(a,")")},s.createElement(Ve,{points:c,baseLine:o,needClip:t,clipPathId:a,props:r})))}),s.createElement(st,{label:r.label}))}function $n(e){var{needClip:t,clipPathId:a,props:r}=e,n=s.useRef(null),l=s.useRef();return s.createElement(Mn,{needClip:t,clipPathId:a,props:r,previousPointsRef:n,previousBaselineRef:l})}class Kn extends s.PureComponent{render(){var{hide:t,dot:a,points:r,className:n,top:l,left:c,needClip:o,xAxisId:d,yAxisId:m,width:u,height:f,id:p,baseLine:y,zIndex:x}=this.props;if(t)return null;var P=Q("recharts-area",n),A=p,{r:j,strokeWidth:w}=Ka(a),E=Wa(a),k=j*2+w,h=o?"url(#clipPath-".concat(E?"":"dots-").concat(A,")"):void 0;return s.createElement(we,{zIndex:x},s.createElement($,{className:P},o&&s.createElement("defs",null,s.createElement(za,{clipPathId:A,xAxisId:d,yAxisId:m}),!E&&s.createElement("clipPath",{id:"clipPath-dots-".concat(A)},s.createElement("rect",{x:c-k/2,y:l-k/2,width:u+k,height:f+k}))),s.createElement($n,{needClip:o,clipPathId:A,props:this.props})),s.createElement(Me,{points:r,mainColor:de(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:h}),this.props.isRange&&Array.isArray(y)&&s.createElement(Me,{points:y,mainColor:de(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:h}))}}var Ct={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ae.area};function Wn(e){var t,a=G(e,Ct),{activeDot:r,animationBegin:n,animationDuration:l,animationEasing:c,connectNulls:o,dot:d,fill:m,fillOpacity:u,hide:f,isAnimationActive:p,legendType:y,stroke:x,xAxisId:P,yAxisId:A}=a,j=Et(a,wn),w=Ra(),E=_a(),{needClip:k}=Ma(P,A),h=mt(),{points:g,isRange:v,baseLine:b}=(t=F(T=>Pn(T,e.id,h)))!==null&&t!==void 0?t:{},O=$a();if(w!=="horizontal"&&w!=="vertical"||O==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:S,width:I,x:C,y:L}=O;return!g||!g.length?null:s.createElement(Kn,B({},j,{activeDot:r,animationBegin:n,animationDuration:l,animationEasing:c,baseLine:b,connectNulls:o,dot:d,fill:m,fillOpacity:u,height:S,hide:f,layout:w,isAnimationActive:p==="auto"?!Ya.isSsr:p,isRange:v,legendType:y,needClip:k,points:g,stroke:x,width:I,left:C,top:L,xAxisId:P,yAxisId:A}))}var zn=(e,t,a,r,n)=>{var l=a??t;if(W(l))return l;var c=e==="horizontal"?n:r,o=c.scale.domain();if(c.type==="number"){var d=Math.max(o[0],o[1]),m=Math.min(o[0],o[1]);return l==="dataMin"?m:l==="dataMax"||d<0?d:Math.max(Math.min(o[0],o[1]),0)}return l==="dataMin"?o[0]:l==="dataMax"?o[1]:o[0]};function Fn(e){var{areaSettings:{connectNulls:t,baseValue:a,dataKey:r},stackedData:n,layout:l,chartBaseValue:c,xAxis:o,yAxis:d,displayedData:m,dataStartIndex:u,xAxisTicks:f,yAxisTicks:p,bandSize:y}=e,x=n&&n.length,P=zn(l,c,a,o,d),A=l==="horizontal",j=!1,w=m.map((k,h)=>{var g,v,b,O;if(x)O=n[u+h];else{var S=M(k,r);Array.isArray(S)?(O=S,j=!0):O=[P,S]}var I=(g=(v=O)===null||v===void 0?void 0:v[1])!==null&&g!==void 0?g:null,C=I==null||x&&!t&&M(k,r)==null;if(A){var L;return{x:$e({axis:o,ticks:f,bandSize:y,entry:k,index:h}),y:C?null:(L=d.scale.map(I))!==null&&L!==void 0?L:null,value:O,payload:k}}return{x:C?null:(b=o.scale.map(I))!==null&&b!==void 0?b:null,y:$e({axis:d,ticks:p,bandSize:y,entry:k,index:h}),value:O,payload:k}}),E;return x||j?E=w.map(k=>{var h,g=Array.isArray(k.value)?k.value[0]:null;if(A){var v;return{x:k.x,y:g!=null&&k.y!=null&&(v=d.scale.map(g))!==null&&v!==void 0?v:null,payload:k.payload}}return{x:g!=null&&(h=o.scale.map(g))!==null&&h!==void 0?h:null,y:k.y,payload:k.payload}}):E=A?d.scale.map(P):o.scale.map(P),{points:w,baseLine:E??0,isRange:j}}function Bn(e){var t=G(e,Ct),a=mt();return s.createElement(at,{id:t.id,type:"area"},r=>s.createElement(s.Fragment,null,s.createElement(Ia,{legendPayload:Sn(t)}),s.createElement(In,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),s.createElement(Da,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:La(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:a,connectNulls:t.connectNulls}),s.createElement(Wn,B({},t,{id:r}))))}var ue=s.memo(Bn,Sa);ue.displayName="Area";function Un(e){var t=q();return s.useEffect(()=>{t(Xa(e))},[t,e]),null}var Gn=["layout"];function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},je.apply(null,arguments)}function Vn(e,t){if(e==null)return{};var a,r,n=Hn(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Hn(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Yn={top:5,right:5,bottom:5,left:5},Nt={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Yn,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Xn=s.forwardRef(function(t,a){var r,n=G(t.categoricalChartProps,Nt),{layout:l}=n,c=Vn(n,Gn),{chartName:o,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:u}=t,f={chartName:o,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:u,eventEmitter:void 0};return s.createElement(qa,{preloadedState:{options:f},reduxStoreName:(r=n.id)!==null&&r!==void 0?r:o},s.createElement(Za,{chartData:n.data}),s.createElement(Ja,{layout:l,margin:n.margin}),s.createElement(Qa,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),s.createElement(Un,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),s.createElement(er,je({},c,{ref:a})))});function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?He(Object(a),!0).forEach(function(r){qn(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function qn(e,t,a){return(t=Zn(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Zn(e){var t=Jn(e,"string");return typeof t=="symbol"?t:t+""}function Jn(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qn=["item"],ei=Ye(Ye({},Nt),{},{layout:"centric",startAngle:0,endAngle:360}),ti=s.forwardRef((e,t)=>{var a=G(e,ei);return s.createElement(Xn,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Qn,tooltipPayloadSearcher:pt,categoricalChartProps:a,ref:t})}),ai=["axis"],St=s.forwardRef((e,t)=>s.createElement(tr,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ai,tooltipPayloadSearcher:pt,categoricalChartProps:e,ref:t}));const me=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#6366f1"],ri=({active:e,payload:t})=>e&&t&&t.length?i.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white p-3 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:t[0].name}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t[0].value," clicks"]})]}):null,Xe=({data:e,title:t})=>{const a=e&&Object.keys(e).length>0,r=a?Object.keys(e).map(n=>({name:n,value:e[n]})).sort((n,l)=>l.value-n.value):[{name:"No Data",value:1}];return i.jsxs("div",{className:"flex flex-col rounded-xl border border-gray-200 bg-white p-6 shadow-lg transition-all duration-200 hover:shadow-xl dark:border-slate-700 dark:bg-slate-800",children:[i.jsx("h3",{className:"mb-2 text-center text-lg font-bold text-gray-800 dark:text-gray-100",children:t}),i.jsx("div",{className:"min-h-[250px] w-full flex-1",children:i.jsx(Oe,{width:"100%",height:"100%",children:i.jsxs(ti,{children:[i.jsx(bt,{data:r,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:2,dataKey:"value",stroke:"none",children:r.map((n,l)=>i.jsx(ve,{fill:a?me[l%me.length]:"#e5e7eb",className:"outline-none"},`cell-${l}`))}),i.jsx(Ee,{content:i.jsx(ri,{})}),a&&i.jsx(Ce,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",paddingTop:"10px"}})]})})})]})},qe=({data:e,title:t})=>{const a=e&&Object.keys(e).length>0,r=a?Object.entries(e).sort((l,c)=>c[1]-l[1]).slice(0,8):[],n=r.length>0?r[0][1]:1;return i.jsxs("div",{className:"flex flex-col rounded-xl border border-gray-200 bg-white p-6 shadow-lg transition-all duration-200 hover:shadow-xl dark:border-slate-700 dark:bg-slate-800",children:[i.jsx("h3",{className:"mb-4 text-center text-lg font-bold text-gray-800 dark:text-gray-100",children:t}),i.jsx("div",{className:"flex flex-col gap-3",children:a?r.map(([l,c],o)=>{const d=Math.round(c/n*100);return i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"mb-1 flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"truncate font-medium text-gray-700 dark:text-gray-300",children:[o+1,". ",l]}),i.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:c})]}),i.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-gray-100 dark:bg-slate-800",children:i.jsx("div",{className:"h-full rounded-full transition-all duration-500 ease-out",style:{width:`${d}%`,backgroundColor:me[o%me.length]}})})]},l)}):i.jsx("div",{className:"flex h-40 items-center justify-center text-sm text-gray-400 dark:text-gray-500",children:"No Data Available"})})]})},It=({devices:e={},browsers:t={},countries:a={},referrers:r={},t:n})=>i.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-4",children:[i.jsx(Xe,{data:e,title:n("analytics.devices")||"Devices"}),i.jsx(Xe,{data:t,title:n("analytics.browsers")||"Browsers"}),i.jsx(qe,{data:a,title:n("analytics.countries")||"Countries"}),i.jsx(qe,{data:r,title:n("analytics.referrers")||"Referrers"})]}),ni=({urlId:e})=>{const{t}=U(),a=J(),[r,n]=s.useState([]),[l,c]=s.useState(null),[o,d]=s.useState(!0),[m,u]=s.useState(null);return s.useEffect(()=>{e&&(async()=>{try{d(!0),u(null);const p=await a.get(`/myurls/analytics/${e}`);n(p.data.chartData),c(p.data)}catch(p){u(t("myurls.analyticsError")),console.error("Failed to fetch analytics:",p)}finally{d(!1)}})()},[e,a,t]),o?i.jsx("div",{className:"flex items-center justify-center py-4 text-xl text-blue-600 dark:text-blue-400",children:t("myurls.loadingAnalytics")}):m?i.jsx("div",{className:"flex items-center justify-center py-8 text-xl text-red-600 dark:text-red-400",children:m}):i.jsxs("div",{className:"w-full",children:[i.jsx("h3",{className:"mb-4 text-center text-2xl font-bold text-gray-800 dark:text-gray-200",children:t("myurls.analytics")}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(Oe,{width:"100%",height:280,minWidth:200,aspect:void 0,children:i.jsxs(St,{data:r,margin:{top:5,right:30,left:20,bottom:30},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorClicks",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),i.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),i.jsx(ft,{strokeDasharray:"3 3",className:"stroke-gray-300 dark:stroke-gray-600"}),i.jsx(vt,{dataKey:"date",className:"fill-gray-700 dark:fill-gray-300",tickFormatter:f=>oe(f).format("DD/MM")}),i.jsx(ht,{className:"fill-gray-700 dark:fill-gray-300"}),i.jsx(Ee,{contentStyle:{backgroundColor:"rgb(30 41 59)",border:"none",borderRadius:"8px",color:"#fff",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#e2e8f0",marginBottom:"0.25rem"},itemStyle:{color:"#818cf8"},labelFormatter:f=>`${t("myurls.date")}: ${oe(f).format("DD/MM/YYYY")}`,formatter:(f,p)=>[f,t("myurls.clicks")]}),i.jsx(ue,{type:"monotone",dataKey:"clicks",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorClicks)",activeDot:{r:8},name:t("myurls.clicks")})]})},e)}),l&&i.jsx(It,{devices:l.devices,browsers:l.browsers,countries:l.countries,referrers:l.referrers,t})]})};function ii({urls:e,notificationRef:t,getMyUrls:a,updateUrl:r,removeUrl:n,isLoading:l}){const{t:c}=U(),o=ke(),d=J(),[m,u]=s.useState(""),[f,p]=s.useState(null),[y,x]=s.useState(new Set),P=s.useMemo(()=>m?e.filter(g=>g.url.toLowerCase().includes(m.toLowerCase())):e,[m,e]),A=h=>{p(f===h?null:h)},j=async h=>{try{const g=await d.patch(`/myurls/toggle/${h}`);r&&g.data?r(g.data):await a()}catch(g){console.error("Failed to toggle URL status:",g),t.current?.addNotification(c("myurls.loaderr"),3e3)}},w=s.useCallback(async(h,g)=>{try{const v=await d.patch(`/myurls/update-title/${h}`,{title:g});r&&v.data?r(v.data):await a()}catch(v){throw console.error("Failed to update URL title:",v),v}},[d,r,a]),E=s.useCallback(async(h,g)=>{try{const v=await d.patch(`/myurls/update-url/${h}`,{url:g});r&&v.data?r(v.data):await a()}catch(v){throw console.error("Failed to update URL:",v),v}},[d,r,a]),k=s.useCallback(async h=>{x(g=>new Set([...g,h]));try{await d.delete(`/myurls/${h}`),t.current?.addNotification(c("myurls.deleteSuccess"),2e3)}catch(g){console.error("Failed to delete URL:",g),x(v=>{const b=new Set(v);return b.delete(h),b}),t.current?.addNotification(c("myurls.deleteError"),3e3)}},[d,n,a,c,t]);return i.jsx(i.Fragment,{children:i.jsx("div",{className:"flex w-full flex-col items-center",style:{contain:"layout style"},children:i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mx-auto mb-4 flex h-12 w-full max-w-7xl flex-row items-center",children:[i.jsx("input",{type:"text",value:m,onChange:h=>{u(h.target.value)},placeholder:c("myurls.search"),className:"h-full w-full rounded-lg rounded-r-none border-2 border-sky-400 bg-white px-3 text-lg text-gray-900 focus:ring-2 focus:ring-sky-500 focus:outline-none dark:border-sky-500 dark:bg-slate-700 dark:text-gray-100"}),i.jsx("button",{onClick:a,className:"h-full w-12 touch-manipulation rounded-lg rounded-l-none border-2 border-l-0 border-sky-500 bg-sky-500 p-1 transition-colors hover:bg-sky-600 dark:border-sky-600 dark:bg-sky-600 dark:hover:bg-sky-700",type:"button",children:i.jsx("svg",{fill:"#FFFFFF",viewBox:"0 0 35 31.8",className:"hover:cursor-pointer",children:i.jsx("use",{href:"#reload"})})})]}),l?i.jsx("div",{className:"flex min-h-[50vh] flex-col justify-center",children:i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(Ze,{})})}):i.jsx(i.Fragment,{children:P.length>0?i.jsx(Y.ul,{className:"motion-safe mx-auto w-full max-w-7xl px-0",layout:"position",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,layout:{duration:.4,ease:"easeOut"}},children:i.jsx(Le,{mode:"sync",children:P.map((h,g)=>i.jsxs(Y.li,{className:f!==h._id?"motion-safe mb-8":"motion-safe",style:{willChange:"transform, opacity"},initial:{opacity:0,y:100},animate:y.has(h._id)?"exit":"enter",variants:{enter:{opacity:1,x:0,y:0},exit:{opacity:0,x:5e3,y:0}},transition:{ease:[.25,.46,.45,.94],delay:y.has(h._id)?0:g*.2},onAnimationComplete:v=>{v==="exit"&&y.has(h._id)&&(n?n(h._id):a(),x(b=>{const O=new Set(b);return O.delete(h._id),O}))},children:[i.jsx(ar,{mode:"myurls",urlData:h,onToggleAnalytics:()=>A(h._id),onToggleActive:()=>j(h._id),onDelete:()=>k(h._id),onUpdateTitle:w,onUpdateUrl:E,t:c,notificationRef:t}),i.jsx(Le,{mode:"wait",children:f===h._id&&i.jsx(Y.div,{className:"motion-safe relative z-10 mt-2 mb-8 rounded-lg border border-gray-200 bg-white p-4 shadow-lg transition-shadow hover:shadow-xl sm:p-6 dark:border-slate-700 dark:bg-slate-800",initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.3,ease:[.25,.46,.45,.94]},children:i.jsx(ni,{urlId:h._id})})})]},h._id))})}):i.jsx("div",{className:"flex flex-col items-center justify-center py-20",children:i.jsx("div",{className:"max-w-md rounded-lg border border-gray-200 bg-white p-8 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:i.jsxs("div",{className:"text-center",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"Нет URL-адресов"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Создайте вашу первую сокращенную ссылку"}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{onClick:()=>o("/"),className:"inline-flex items-center rounded-md border border-transparent bg-sky-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-700 focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:outline-none",children:"Создать новую"})})]})})})})]})})})}function li(){const e="/user/logout",{t}=U(),a=ke(),{setAuth:r}=s.useContext(Je),{theme:n}=s.useContext(Pe),l=J(),c=n==="dark",o=async()=>{try{await l.post(e,{})}catch(d){console.error("Logout error:",d)}finally{r({}),a("/")}};return i.jsx(Y.button,{onClick:o,type:"button",className:"touch-manipulation flex h-8 w-8 items-center justify-center rounded-md p-1.5 text-sm font-bold shadow-md sm:h-10 sm:w-10 sm:text-base md:h-14 md:w-14",animate:{backgroundColor:c?"rgb(239 68 68)":"rgb(252 165 165)",color:c?"rgb(51 65 85)":"rgb(255 255 255)"},whileHover:{backgroundColor:c?"rgb(220 38 38)":"rgb(248 113 113)",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",scale:1.05},whileTap:{backgroundColor:c?"rgb(185 28 28)":"rgb(239 68 68)",scale:.95},transition:{duration:.2,ease:"easeOut"},title:t("myurls.logout"),children:i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",children:i.jsx("path",{d:"M15 4H18C19.1046 4 20 4.89543 20 6V18C20 19.1046 19.1046 20 18 20H15M8 8L4 12M4 12L8 16M4 12L16 12",stroke:"#FFFFFF",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})})}function si(){const e="/user/deleteuser",{t}=U(),a=ke(),{setAuth:r}=s.useContext(Je),{theme:n}=s.useContext(Pe),l=J(),[c,o]=s.useState(!1),d=n==="dark",m=()=>{o(!0)},u=async()=>{try{await l.delete(e),r({}),a("/")}catch(f){console.error("Delete user error:",f),alert(t("modal.error","Failed to delete account. Please try again."))}};return i.jsxs(i.Fragment,{children:[i.jsx(Y.button,{onClick:m,type:"button",className:"touch-manipulation flex h-8 w-8 items-center justify-center rounded-md p-1.5 text-sm font-bold shadow-md sm:h-10 sm:w-10 sm:text-base md:h-14 md:w-14",animate:{backgroundColor:d?"rgb(239 68 68)":"rgb(252 165 165)",color:d?"rgb(51 65 85)":"rgb(255 255 255)"},whileHover:{backgroundColor:d?"rgb(220 38 38)":"rgb(248 113 113)",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",scale:1.05},whileTap:{backgroundColor:d?"rgb(185 28 28)":"rgb(239 68 68)",scale:.95},transition:{duration:.2,ease:"easeOut"},title:t("myurls.deleteProfile"),children:i.jsx("svg",{fill:"#FFFFFF",viewBox:"-3 -2 24 24",preserveAspectRatio:"xMinYMin",children:i.jsx("path",{d:"M6 2V1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v1h4a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2h-.133l-.68 10.2a3 3 0 0 1-2.993 2.8H5.826a3 3 0 0 1-2.993-2.796L2.137 7H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h4zm10 2H2v1h14V4zM4.141 7l.687 10.068a1 1 0 0 0 .998.932h6.368a1 1 0 0 0 .998-.934L13.862 7h-9.72zM7 8a1 1 0 0 1 1 1v7a1 1 0 0 1-2 0V9a1 1 0 0 1 1-1zm4 0a1 1 0 0 1 1 1v7a1 1 0 0 1-2 0V9a1 1 0 0 1 1-1z"})})}),i.jsx(rr,{isOpen:c,onClose:()=>o(!1),onConfirm:u,title:t("modal.deleteProfile.title"),message:t("modal.deleteProfile.confirm"),confirmText:t("modal.deleteProfile.confirmBtn"),cancelText:t("modal.deleteProfile.cancelBtn"),type:"danger"})]})}function oi({profile:e}){const{t}=U();return e?i.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-6 shadow-lg hover:shadow-xl dark:border-slate-700 dark:bg-slate-800",children:i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-sky-400 to-blue-600 text-3xl font-bold text-white shadow-lg dark:from-sky-500 dark:to-blue-700",children:e.username.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"mb-1 text-2xl font-bold text-gray-900 dark:text-gray-100",children:e.username}),i.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t("dashboard.memberSince")," ",nr(e.accountCreated)]})]}),i.jsx(si,{}),i.jsx(li,{})]})}):null}function ne({title:e,value:t,subtitle:a,icon:r,trend:n}){return i.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-gray-200 dark:border-slate-700 p-6 hover:shadow-xl transition-all duration-200",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:e}),i.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:t}),a&&i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:a}),n&&i.jsxs("div",{className:`inline-flex items-center gap-1 mt-2 text-sm font-medium ${n.direction==="up"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[i.jsx("span",{children:n.direction==="up"?"↑":"↓"}),i.jsx("span",{children:n.value})]})]}),r&&i.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg bg-gradient-to-br from-sky-400 to-blue-500 dark:from-sky-500 dark:to-blue-600 text-white",children:r})]})})}function ci({data:e,title:t}){return i.jsxs("div",{className:"relative z-10 rounded-xl border border-gray-200 bg-white p-6 shadow-lg transition-shadow hover:shadow-xl dark:border-slate-700 dark:bg-slate-800",style:{willChange:"background-color, border-color"},children:[i.jsx("h3",{className:"mb-6 text-xl font-bold text-gray-900 dark:text-gray-100",children:t}),i.jsx(Oe,{width:"100%",height:300,children:i.jsxs(St,{data:e,children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"colorCreated",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#0ea5e9",stopOpacity:.8}),i.jsx("stop",{offset:"95%",stopColor:"#0ea5e9",stopOpacity:0})]}),i.jsxs("linearGradient",{id:"colorClicks",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#f43f5e",stopOpacity:.8}),i.jsx("stop",{offset:"95%",stopColor:"#f43f5e",stopOpacity:0})]})]}),i.jsx(ft,{strokeDasharray:"3 3",stroke:"#e5e7eb",className:"stroke-gray-200 dark:stroke-slate-700"}),i.jsx(vt,{dataKey:"date",stroke:"#6b7280",className:"stroke-gray-500 dark:stroke-gray-400",tick:{fill:"#6b7280",className:"fill-gray-500 dark:fill-gray-400"},tickFormatter:a=>oe(a).format("DD/MM")}),i.jsx(ht,{stroke:"#6b7280",className:"stroke-gray-500 dark:stroke-gray-400",tick:{fill:"#6b7280"}}),i.jsx(Ee,{contentStyle:{backgroundColor:"rgb(30 41 59)",border:"none",borderRadius:"8px",color:"#fff",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#e2e8f0",marginBottom:"0.25rem"},labelFormatter:a=>oe(a).format("DD/MM/YYYY")}),i.jsx(Ce,{}),i.jsx(ue,{type:"monotone",dataKey:"created",stroke:"#0ea5e9",strokeWidth:2,fillOpacity:1,fill:"url(#colorCreated)",name:"URLs Created",activeDot:{r:6}}),i.jsx(ue,{type:"monotone",dataKey:"clicks",stroke:"#f43f5e",strokeWidth:2,fillOpacity:1,fill:"url(#colorClicks)",name:"Clicks",activeDot:{r:6}})]})})]})}function di({topUrls:e}){const{t}=U(),{theme:a}=s.useContext(Pe),r=a==="dark";return i.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white p-6 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:[i.jsx("h3",{className:"mb-6 text-xl font-bold text-gray-900 dark:text-gray-100",children:t("dashboard.topUrls")}),e.length===0?i.jsx("p",{className:"py-4 text-center text-gray-600 dark:text-gray-400",children:t("dashboard.noData")}):i.jsx("div",{className:"space-y-4",children:e.map((n,l)=>i.jsxs(Y.div,{className:"motion-safe flex items-center gap-4 rounded-lg p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0,background:r?"linear-gradient(135deg, rgb(51 65 85) 0%, rgb(30 41 59) 100%)":"linear-gradient(135deg, rgb(248 250 252) 0%, rgb(239 246 255) 100%)"},whileHover:{background:r?"linear-gradient(135deg, rgb(30 41 59) 0%, rgb(15 23 42) 100%)":"linear-gradient(135deg, rgb(239 246 255) 0%, rgb(219 234 254) 100%)",scale:1.02},transition:{duration:.6,ease:"easeOut",delay:l*.1,backgroundColor:{duration:.2,ease:"easeOut"},scale:{duration:.2,ease:"easeOut"}},children:[i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-sky-400 to-blue-500 text-sm font-bold text-white dark:from-sky-500 dark:to-blue-600",children:l+1}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"truncate font-semibold text-gray-900 dark:text-gray-100",children:`https://shortlyurl.ru/${n.shortCode}`}),i.jsx("p",{className:"truncate text-sm text-gray-600 dark:text-gray-400",children:n.url})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-2xl font-bold text-slate-600 dark:text-rose-400",children:n.clicks}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:t("myurls.clicks")})]})]},n.shortCode))})]})}function vi(){const e="/myurls/geturls",t="/myurls/analytics",a="/myurls/profile",{t:r}=U(),n=J(),l=Tt(),[c,o]=s.useState([]),[d,m]=s.useState(null),[u,f]=s.useState(null),[p,y]=s.useState(!0),[x,P]=s.useState("overview"),[A,j]=s.useState(!1),w=s.useRef(),E=s.useCallback(async()=>{y(!0),j(!1);try{await l();const v=await Promise.allSettled([await n.get(e),await n.get(a),await n.get(t)]),[b,O,S]=v;b.status==="fulfilled"&&o(b.value.data),O.status==="fulfilled"&&f(O.value.data),S.status==="fulfilled"&&m(S.value.data),v.some(C=>C.status==="rejected")&&j(!0)}catch{j(!0)}finally{y(!1)}},[n,l,a,e,t]);s.useEffect(()=>{E()},[E]);const k=s.useCallback(async()=>{try{y(!0);const v=await sr(()=>n.get(e),3,1e3);o(v.data)}catch(v){console.error("Failed to fetch user URLs:",v),w.current?.addNotification(r("myurls.loaderr"),3e3)}finally{y(!1)}},[n,e]),h=s.useCallback(v=>{o(b=>b.map(O=>O._id===v._id?v:O))},[]),g=s.useCallback(v=>{o(b=>b.filter(O=>O._id!==v))},[]);return i.jsxs("div",{className:"flex w-full flex-col items-center px-4 pb-20",style:{contain:"layout style paint"},children:[i.jsx(ir,{ref:w}),i.jsxs("div",{className:"w-full max-w-7xl",style:{contain:"layout style"},children:[i.jsx("div",{className:"mb-8",children:i.jsx(lr,{children:r("dashboard.title")})}),i.jsxs("div",{className:"mb-6 flex flex-row justify-between border-b border-gray-200 dark:border-slate-700",children:[i.jsxs("nav",{className:"flex gap-4",children:[i.jsx("button",{onClick:()=>P("overview"),className:`touch-manipulation border-b-2 px-4 py-3 text-sm font-semibold transition-colors md:text-base ${x==="overview"?"border-sky-500 text-sky-600 dark:text-sky-400":"border-transparent text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"}`,children:r("dashboard.overview")}),i.jsx("button",{onClick:()=>P("urls"),className:`touch-manipulation border-b-2 px-4 py-3 text-sm font-semibold transition-colors md:text-base ${x==="urls"?"border-sky-500 text-sky-600 dark:text-sky-400":"border-transparent text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-200"}`,children:r("dashboard.myUrls")})]}),i.jsx("p",{className:"hidden items-center text-gray-600 md:flex dark:text-gray-400",children:r("dashboard.subtitle")})]}),x==="overview"&&(p?i.jsx("div",{className:"flex min-h-[50vh] flex-col justify-center",children:i.jsx("div",{className:"flex items-center justify-center",children:i.jsx(Ze,{})})}):A?i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("div",{className:"w-full max-w-md rounded-xl border border-gray-200 bg-white p-8 shadow-lg hover:shadow-xl dark:border-slate-700 dark:bg-slate-800",children:i.jsxs("div",{className:"text-center",children:[i.jsx("svg",{className:"mx-auto mb-4 h-12 w-12 text-rose-500 dark:text-rose-400",stroke:"currentColor",viewBox:"0 0 20 20",children:i.jsx("use",{href:"#warn"})}),i.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900 dark:text-gray-100",children:r("dashboard.error.title")}),i.jsx("p",{className:"mb-6 text-gray-600 dark:text-gray-400",children:r("dashboard.error.message")}),i.jsxs("button",{onClick:E,style:{transition:"var(--transition-bg)"},className:"inline-flex touch-manipulation items-center rounded-lg bg-sky-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-sky-600 focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:outline-none dark:bg-sky-600 dark:hover:bg-sky-700 dark:focus:ring-sky-600",children:[i.jsx("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r("dashboard.error.retry")]})]})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(oi,{profile:u}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[i.jsx(ne,{title:r("dashboard.totalUrls"),value:d?.totalUrls||0,icon:i.jsx("svg",{fill:"currentColor",viewBox:"0 0 24 24",className:"h-8 w-8",children:i.jsx("path",{d:"M10,17.55,8.23,19.27a2.47,2.47,0,0,1-3.5-3.5l4.54-4.55a2.46,2.46,0,0,1,3.39-.09l.12.1a1,1,0,0,0,1.4-1.43A2.75,2.75,0,0,0,14,9.59a4.46,4.46,0,0,0-6.09.22L3.31,14.36a4.48,4.48,0,0,0,6.33,6.33L11.37,19A1,1,0,0,0,10,17.55ZM20.69,3.31a4.49,4.49,0,0,0-6.33,0L12.63,5A1,1,0,0,0,14,6.45l1.73-1.72a2.47,2.47,0,0,1,3.5,3.5l-4.54,4.55a2.46,2.46,0,0,1-3.39.09l-.12-.1a1,1,0,0,0-1.4,1.43,2.75,2.75,0,0,0,.23.21,4.47,4.47,0,0,0,6.09-.22l4.55-4.55A4.49,4.49,0,0,0,20.69,3.31Z"})})}),i.jsx(ne,{title:r("dashboard.totalClicks"),value:d?.totalClicks||0,icon:i.jsxs("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),subtitle:`${d?.clicksLast7Days||0} ${r("dashboard.last7Days")}`}),i.jsx(ne,{title:r("dashboard.activeUrls"),value:d?.activeUrls||0,icon:i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),i.jsx(ne,{title:r("dashboard.expiredUrls"),value:d?.expiredUrls||0,icon:i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]}),i.jsx(ci,{data:d?.chartData||[],title:r("dashboard.activityChart")}),i.jsx(It,{devices:d?.devices||{},browsers:d?.browsers||{},countries:d?.countries||{},referrers:d?.referrers||{},t:r}),i.jsx(di,{topUrls:d?.topUrls||[]})]})),x==="urls"&&i.jsx(ii,{urls:c,getMyUrls:k,updateUrl:h,removeUrl:g,notificationRef:w,isLoading:p})]})]})}export{vi as default};
