# ShortURL - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫

## –û –ø—Ä–æ–µ–∫—Ç–µ

**ShortURL** ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (Fire-and-Forget, Aggregation Cron Jobs, Lazy Registration) –∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–¥–µ–∂–Ω–æ–≥–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏ –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–ª—è RU-—Å–µ–≥–º–µ–Ω—Ç–∞.

–û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ —É–¥–µ–ª–µ–Ω–æ **–∏–º–ø–æ—Ä—Ç–æ–∑–∞–º–µ—â–µ–Ω–∏—é** –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: –≤—Å—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤ –∏ –∞–≤–∞—Ç–∞—Ä–æ–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º API.

## –ö–ª—é—á–µ–≤—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üöÄ –û—Å–Ω–æ–≤–Ω–æ–π –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- **–£–º–Ω–æ–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫.
- **Lazy Registration (–û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è):** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –∞–Ω–æ–Ω–∏–º–Ω–æ, –∞ –ø—Ä–∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–Ω–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è** –≤ –µ–≥–æ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç.
- **–ö–∞—Å—Ç–æ–º–Ω—ã–π —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏:** –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π UI (–æ—Ç 1 –º–∏–Ω—É—Ç—ã –¥–æ 1 –≥–æ–¥–∞).
- **QR-–∫–æ–¥—ã:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ –¥–ª—è –ø–µ—á–∞—Ç–∏.

### üìä –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

- **Clickstream Data:** –°–±–æ—Ä –ø–æ–ª–Ω—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–∫–∞:
  - **–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è:** –°—Ç—Ä–∞–Ω–∞, –ì–æ—Ä–æ–¥ (GeoIP Lite).
  - **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:** OS, Browser, —Ç–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (Mobile/Desktop/Tablet).
  - **–ò—Å—Ç–æ—á–Ω–∏–∫:** Referrer (–æ—Ç–∫—É–¥–∞ –ø—Ä–∏—à–µ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å).
- **–î–∞—à–±–æ—Ä–¥:** –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (–≥—Ä–∞—Ñ–∏–∫–∏ –∫–ª–∏–∫–æ–≤ –ø–æ –¥–Ω—è–º, –∫—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ —Å—Ç—Ä–∞–Ω).

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ UX

- **Rate Limiting:** –ó–∞—â–∏—Ç–∞ –æ—Ç Brute-Force –∞—Ç–∞–∫ –Ω–∞ –≤—Ö–æ–¥ (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ IP –ø–æ—Å–ª–µ 5 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫).
- **–ò–Ω–¥–∏–∫–∞—Ü–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è:** –í–∏–∑—É–∞–ª—å–Ω–∞—è —à–∫–∞–ª–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç—å—é –ø–∞—Ä–æ–ª—è:** –£–¥–æ–±–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (–≥–ª–∞–∑–æ–∫) —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π –ø–æ–ª–µ–π.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** JWT (Access + Refresh Tokens) –≤ HttpOnly Cookie.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å —É—á–µ—Ç–æ–º –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ (High Load Design Principles):

1.  **Fire-and-Forget Redirect:**
    - –°–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞–µ—Ç 301 —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ**, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –∑–∞–ø–∏—Å–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ –ë–î.
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–∞ (–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ GeoIP, –ø–∞—Ä—Å–∏–Ω–≥ User-Agent, –∑–∞–ø–∏—Å—å –≤ MongoDB) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤ —Ñ–æ–Ω–µ.
    - _–†–µ–∑—É–ª—å—Ç–∞—Ç:_ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —Å—Å—ã–ª–∫–µ.

2.  **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –î–∞–Ω–Ω—ã—Ö (Cron Jobs):**
    - –°—ã—Ä—ã–µ –ª–æ–≥–∏ –∫–ª–∏–∫–æ–≤ (`Clicks`) —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.
    - –ï–∂–µ–Ω–æ—â–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Cron-–∑–∞–¥–∞—á–∞, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã `DailyStats` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∑–∞ –±–æ–ª—å—à–∏–µ –ø–µ—Ä–∏–æ–¥—ã.

3.  **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –û—á–∏—Å—Ç–∫–∞:**
    - –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ —É–¥–∞–ª—è—é—Ç –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ª–æ–≥–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—è —á–∏—Å—Ç–æ—Ç—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –°—Ç–µ–∫

### Frontend

- **Core:** React 19, Vite 7
- **Styling:** Tailwind CSS 4 (Modern Stack)
- **State/API:** Context API, Custom Hooks, Axios Interceptors
- **UI:** Framer Motion (–∞–Ω–∏–º–∞—Ü–∏–∏), Recharts (–≥—Ä–∞—Ñ–∏–∫–∏)
- **I18n:** –ü–æ–ª–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (RU/EN)

### Backend

- **Runtime:** Node.js + Express 5
- **Database:** MongoDB + Mongoose 8
- **Security:** bcrypt, helmet-like headers, express-rate-limit
- **Util:** node-cron (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫), geoip-lite, ua-parser-js

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js (v18+)
- MongoDB (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ Atlas)

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

1.  **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**

    ```bash
    git clone https://github.com/LUKON1/ShrotlyUrl.git
    cd ShrotlyUrl
    ```

2.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**

    ```bash
    # –ö–ª–∏–µ–Ω—Ç
    npm install

    # –°–µ—Ä–≤–µ—Ä
    cd server
    npm install
    ```

3.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ (.env):**
    _–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –≤ –ø–∞–ø–∫–µ server –ø–æ –ø—Ä–∏–º–µ—Ä–∞–º._

    **Client (.env):**

    ```env
    VITE_API_BASE_URL=http://localhost:3000/api
    VITE_BASE_URL=http://localhost:5173
    ```

    **Server (server/.env):**

    ```env
    PORT=3000
    DB_URI=mongodb://localhost:27017/shortly
    HOST_NAME=http://localhost:5173
    JWT_SECRET=super_secret_key
    JWT_REFRESH_SECRET=super_refresh_secret
    NODE_ENV=development
    ```

4.  **–ó–∞–ø—É—Å–∫:**

    ```bash
    # –¢–µ—Ä–º–∏–Ω–∞–ª 1 (–°–µ—Ä–≤–µ—Ä)
    cd server
    npm run dev

    # –¢–µ—Ä–º–∏–Ω–∞–ª 2 (–ö–ª–∏–µ–Ω—Ç)
    cd ..
    npm run dev
    ```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
ShrotlyUrl
‚îú‚îÄ src/                  # Frontend (React)
‚îÇ  ‚îú‚îÄ elements/          # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI
‚îÇ  ‚îÇ  ‚îú‚îÄ Dashboard/      # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –ü—Ä–æ—Ñ–∏–ª—å
‚îÇ  ‚îÇ  ‚îú‚îÄ Homepage/       # –§–æ—Ä–º–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –∏ TimeSelector
‚îÇ  ‚îÇ  ‚îú‚îÄ Registration/   # –§–æ—Ä–º—ã –≤—Ö–æ–¥–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
‚îÇ  ‚îÇ  ‚îî‚îÄ shared/         # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ (PasswordInput, Charts)
‚îÇ  ‚îú‚îÄ api/               # Axios instances
‚îÇ  ‚îî‚îÄ translation/       # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ server/               # Backend (Express)
‚îÇ  ‚îú‚îÄ cron/              # –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (cleanup, aggregate)
‚îÇ  ‚îú‚îÄ middleware/        # Auth verify, Rate Limiters
‚îÇ  ‚îú‚îÄ models/            # Mongoose Schemas (User, Url, Click)
‚îÇ  ‚îî‚îÄ routes/            # API Endpoints
‚îî‚îÄ ...
```
